{% load static %}

<div class="container-fluid cadastro">
  <div class="container">
    <div class="row">
      <div class="col">
        <h1>FAÇA SEU CADASTRO!</h1>
        <p>
          Convidamos você a cadastrar-se neste portal e manter-se 
          conectado com o IF BAIANO e com a educação ao longo da vida. 
          Participe! Contribua com informações e nos ajude a construir 
          este espaço, que é seu.
        </p>
      </div>
      <div class="col">
        <form class="" method="post" action="{% url 'home' %}"> {% csrf_token %}
          <div class="mb-3"> 
            <label for="nome" class="form-label" >Nome Completo:</label>
            <input type="text" class="form-control" id="nome" name="nome" required>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label" >Email:</label>
            <input type="email" class="form-control" id="email" name="email" required>
          </div>
          <div class="mb-3">
            <label for="text" class="form-label">Telefone</label>
            <input type="text" class="form-control "id="telefone" name="telefone" placeholder="Telefone" oninput="formatarTelefone(this)">


          </div>
          
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="1" id="flexCheckChecked" name="aceito" required>
            <label class="form-check-label" for="flexCheckChecked">
             <span> Aceito receber conteúdos sobre atualizações de eventos, notícias institucionais ou acadêmicas e lançamentos de cursos </span>
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" value="1" id="flexCheckChecked" name="politica" required>
            <label class="form-check-label" for="flexCheckChecked">
              Li aceito a <a href="{% url 'politica-privacidade' %} "target="_blank">Politica de Privacidade</a>
            </label>
          </div>
          <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-primary button">Enviar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/inputmask/5.0.6/jquery.inputmask.min.js"></script>

<script>
  function formatarTelefone(input) {
    // Remove todos os caracteres não numéricos do valor do campo
    let telefone = input.value.replace(/\D/g, '');
    // Formata o telefone adicionando a máscara
    if (telefone.length === 11) {
      telefone = telefone.replace(/^(\d{2})(\d{5})(\d{4})$/, '($1) $2-$3');
    } else if (telefone.length === 10) {
      telefone = telefone.replace(/^(\d{2})(\d{4})(\d{4})$/, '($1) $2-$3');
    }
    // Define o valor formatado de volta no campo
    input.value = telefone;
  }
  
</script>
